# Приложение для анализа банковских операций

## Описание
Это консольное Python-приложение предназначено для анализа банковских операций. Оно предоставляет функции для:
- Просмотра сводной информации о транзакциях, курсах валют и ценах акций.
- Поиска переводов физическим лицам.
- Генерации отчетов по расходам в различных категориях.
- Анализа кешбэка по категориям.
- Расчета суммы для "Инвесткопилки".
- Получения сводной информации о событиях за указанный период.

## Функциональные возможности

1. **Главная страница**
   - Отображает приветствие, сводку по картам, топ-5 транзакций, актуальные курсы валют и цены акций.

2. **Поиск переводов физическим лицам**
   - Идентифицирует переводы, соответствующие определенному шаблону, и выводит результат в формате JSON.

3. **Отчет по категории**
   - Формирует отчет о расходах по указанной категории за последние три месяца от выбранной даты.

4. **Анализ кешбэка**
   - Анализирует выгодные категории повышенного кешбэка за указанный месяц и год.

5. **Инвесткопилка**
   - Рассчитывает сумму, которую можно отложить в "Инвесткопилку" за указанный месяц, основываясь на округлении трат.

6. **События за период**
   - Выводит сводную информацию о событиях за указанный период (неделя, месяц, год или за всё время).

## Установка

1. Клонируйте репозиторий:
```bash
git clone <repository-url>
cd application_for_analyzing_banking_transactions
```

2. Установите зависимости с использованием Poetry:
```bash
poetry install
```

3. Создайте файл `.env` и добавьте API-ключи:
```env
API_KEY_LAYER=ваш_ключ_layer
API_KEY_MARKETSTACK=ваш_ключ_marketstack
```

## Запуск

Для запуска приложения используйте:
```bash
poetry run python main.py
```

## Структура проекта

- `main.py` - Основной файл запуска приложения.
- `src/services.py` - Логика поиска переводов физическим лицам, анализа кешбэка и расчета инвесткопилки.
- `src/reports.py` - Генерация и сохранение отчетов.
- `src/views.py` - Формирование данных для главной страницы и событий за период.
- `src/utils.py` - Утилитарные функции (чтение файлов, загрузка настроек).
- `tests/` - Модульные тесты для проверки функциональности.
- `logs/` - Логи работы приложения.

## Тестирование

Запуск тестов осуществляется с помощью pytest:
```bash
poetry run pytest --cov=src tests/
```

## Логирование

Все ошибки и события логируются в соответствующие файлы в директории `logs`. 
